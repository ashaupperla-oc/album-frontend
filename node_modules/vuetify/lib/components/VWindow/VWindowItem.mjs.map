{"version":3,"sources":["../../../src/components/VWindow/VWindowItem.tsx"],"names":["makeGroupItemProps","useGroupItem","makeLazyProps","useLazy","MaybeTransition","Touch","computed","inject","nextTick","ref","convertToUnit","defineComponent","VWindowGroupSymbol","VWindowSymbol","VWindowItem","name","directives","props","reverseTransition","type","Boolean","String","default","undefined","transition","setup","slots","window","groupItem","Error","isTransitioning","hasTransition","isReversed","value","onAfterTransition","transitionCount","transitionHeight","onBeforeTransition","rootRef","clientHeight","onTransitionCancelled","onEnterTransition","el","onBeforeEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onAfterLeave","onLeaveCancelled","onEnter","hasContent","isSelected","selectedClass"],"mappings":";AAAA;SACSA,kB,EAAoBC,Y;SACpBC,a,EAAeC,O;SACfC,e,4CAET;;OACOC,K,0CAEP;;AACA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,QAA3B,EAAqCC,GAArC,QAAgD,KAAhD;SACSC,a,EAAeC,e;SACfC,kB,EAAoBC,a;AAE7B,OAAO,MAAMC,WAAW,GAAGH,eAAe,CAAC;AACzCI,EAAAA,IAAI,EAAE,aADmC;AAGzCC,EAAAA,UAAU,EAAE;AACVX,IAAAA;AADU,GAH6B;AAOzCY,EAAAA,KAAK,EAAE;AACLC,IAAAA,iBAAiB,EAAE;AACjBC,MAAAA,IAAI,EAAE,CAACC,OAAD,EAAUC,MAAV,CADW;AAEjBC,MAAAA,OAAO,EAAEC;AAFQ,KADd;AAKLC,IAAAA,UAAU,EAAE;AACVL,MAAAA,IAAI,EAAE,CAACC,OAAD,EAAUC,MAAV,CADI;AAEVC,MAAAA,OAAO,EAAEC;AAFC,KALP;AASL,OAAGrB,aAAa,EATX;AAUL,OAAGF,kBAAkB;AAVhB,GAPkC;;AAoBzCyB,EAAAA,KAAK,CAAER,KAAF,QAAoB;AAAA,QAAX;AAAES,MAAAA;AAAF,KAAW;AACvB,UAAMC,MAAM,GAAGpB,MAAM,CAACM,aAAD,CAArB;AACA,UAAMe,SAAS,GAAG3B,YAAY,CAACgB,KAAD,EAAQL,kBAAR,CAA9B;AAEA,QAAI,CAACe,MAAD,IAAW,CAACC,SAAhB,EAA2B,MAAM,IAAIC,KAAJ,CAAU,mDAAV,CAAN;AAE3B,UAAMC,eAAe,GAAGrB,GAAG,CAAC,KAAD,CAA3B;AACA,UAAMsB,aAAa,GAAGzB,QAAQ,CAAC,MAAMqB,MAAM,CAACK,UAAP,CAAkBC,KAAlB,GAA0BhB,KAAK,CAACC,iBAAN,KAA4B,KAAtD,GAA8DD,KAAK,CAACO,UAAN,KAAqB,KAA1F,CAA9B;;AAEA,aAASU,iBAAT,GAA8B;AAC5B,UAAI,CAACJ,eAAe,CAACG,KAAjB,IAA0B,CAACN,MAA/B,EAAuC;AACrC;AACD,OAH2B,CAK5B;;;AACAG,MAAAA,eAAe,CAACG,KAAhB,GAAwB,KAAxB;;AACA,UAAIN,MAAM,CAACQ,eAAP,CAAuBF,KAAvB,GAA+B,CAAnC,EAAsC;AACpCN,QAAAA,MAAM,CAACQ,eAAP,CAAuBF,KAAvB,IAAgC,CAAhC,CADoC,CAGpC;;AACA,YAAIN,MAAM,CAACQ,eAAP,CAAuBF,KAAvB,KAAiC,CAArC,EAAwC;AACtCN,UAAAA,MAAM,CAACS,gBAAP,CAAwBH,KAAxB,GAAgCV,SAAhC;AACD;AACF;AACF;;AAED,aAASc,kBAAT,GAA+B;AAC7B,UAAIP,eAAe,CAACG,KAAhB,IAAyB,CAACN,MAA9B,EAAsC;AACpC;AACD,OAH4B,CAK7B;;;AACAG,MAAAA,eAAe,CAACG,KAAhB,GAAwB,IAAxB;;AAEA,UAAIN,MAAM,CAACQ,eAAP,CAAuBF,KAAvB,KAAiC,CAArC,EAAwC;AAAA;;AACtC;AACAN,QAAAA,MAAM,CAACS,gBAAP,CAAwBH,KAAxB,GAAgCvB,aAAa,0BAACiB,MAAM,CAACW,OAAP,CAAeL,KAAhB,qBAAC,sBAAsBM,YAAvB,CAA7C;AACD;;AAEDZ,MAAAA,MAAM,CAACQ,eAAP,CAAuBF,KAAvB,IAAgC,CAAhC;AACD;;AAED,aAASO,qBAAT,GAAkC;AAChCN,MAAAA,iBAAiB,GADe,CACZ;AACrB;;AAED,aAASO,iBAAT,CAA4BC,EAA5B,EAAyC;AACvC,UAAI,CAACZ,eAAe,CAACG,KAArB,EAA4B;AAC1B;AACD;;AAEDzB,MAAAA,QAAQ,CAAC,MAAM;AACb;AACA,YAAI,CAACuB,aAAa,CAACE,KAAf,IAAwB,CAACH,eAAe,CAACG,KAAzC,IAAkD,CAACN,MAAvD,EAA+D;AAC7D;AACD,SAJY,CAMb;;;AACAA,QAAAA,MAAM,CAACS,gBAAP,CAAwBH,KAAxB,GAAgCvB,aAAa,CAACgC,EAAE,CAACH,YAAJ,CAA7C;AACD,OARO,CAAR;AASD;;AAED,UAAMf,UAAU,GAAGlB,QAAQ,CAAC,MAAM;AAChC,YAAMS,IAAI,GAAGY,MAAM,CAACK,UAAP,CAAkBC,KAAlB,GACThB,KAAK,CAACC,iBADG,GAETD,KAAK,CAACO,UAFV;AAIA,aAAO,CAACO,aAAa,CAACE,KAAf,GAAuB,KAAvB,GAA+B;AACpClB,QAAAA,IAAI,EAAE,OAAOA,IAAP,KAAgB,QAAhB,GAA2BY,MAAM,CAACH,UAAP,CAAkBS,KAA7C,GAAqDlB,IADvB;AAEpC4B,QAAAA,aAAa,EAAEN,kBAFqB;AAGpCO,QAAAA,YAAY,EAAEV,iBAHsB;AAIpCW,QAAAA,gBAAgB,EAAEL,qBAJkB;AAKpCM,QAAAA,aAAa,EAAET,kBALqB;AAMpCU,QAAAA,YAAY,EAAEb,iBANsB;AAOpCc,QAAAA,gBAAgB,EAAER,qBAPkB;AAQpCS,QAAAA,OAAO,EAAER;AAR2B,OAAtC;AAUD,KAf0B,CAA3B;AAiBA,UAAM;AAAES,MAAAA;AAAF,QAAiB/C,OAAO,CAACc,KAAD,EAAQW,SAAS,CAACuB,UAAlB,CAA9B;AAEA,WAAO,MAAM;AACX;AAAA,sBACgC3B,UAAU,CAACS;AAD3C;AAAA;AAAA,mBAGa,CACL,eADK,EAELL,SAAS,CAACwB,aAAV,CAAwBnB,KAFnB;AAHb,YASQP,KAAK,CAACJ,OAAN,IAAiB4B,UAAU,CAACjB,KAA5B,IAAqCP,KAAK,CAACJ,OAAN,EAT7C,cAOeM,SAAS,CAACuB,UAAV,CAAqBlB,KAPpC;AAAA;AAaD,KAdD;AAeD;;AApHwC,CAAD,CAAnC","sourcesContent":["// Composables\nimport { makeGroupItemProps, useGroupItem } from '@/composables/group'\nimport { makeLazyProps, useLazy } from '@/composables/lazy'\nimport { MaybeTransition } from '@/composables/transition'\n\n// Directives\nimport Touch from '@/directives/touch'\n\n// Utilities\nimport { computed, inject, nextTick, ref } from 'vue'\nimport { convertToUnit, defineComponent } from '@/util'\nimport { VWindowGroupSymbol, VWindowSymbol } from './VWindow'\n\nexport const VWindowItem = defineComponent({\n  name: 'VWindowItem',\n\n  directives: {\n    Touch,\n  },\n\n  props: {\n    reverseTransition: {\n      type: [Boolean, String],\n      default: undefined,\n    },\n    transition: {\n      type: [Boolean, String],\n      default: undefined,\n    },\n    ...makeLazyProps(),\n    ...makeGroupItemProps(),\n  },\n\n  setup (props, { slots }) {\n    const window = inject(VWindowSymbol)\n    const groupItem = useGroupItem(props, VWindowGroupSymbol)\n\n    if (!window || !groupItem) throw new Error('[Vuetify] VWindowItem must be used inside VWindow')\n\n    const isTransitioning = ref(false)\n    const hasTransition = computed(() => window.isReversed.value ? props.reverseTransition !== false : props.transition !== false)\n\n    function onAfterTransition () {\n      if (!isTransitioning.value || !window) {\n        return\n      }\n\n      // Finalize transition state.\n      isTransitioning.value = false\n      if (window.transitionCount.value > 0) {\n        window.transitionCount.value -= 1\n\n        // Remove container height if we are out of transition.\n        if (window.transitionCount.value === 0) {\n          window.transitionHeight.value = undefined\n        }\n      }\n    }\n\n    function onBeforeTransition () {\n      if (isTransitioning.value || !window) {\n        return\n      }\n\n      // Initialize transition state here.\n      isTransitioning.value = true\n\n      if (window.transitionCount.value === 0) {\n        // Set initial height for height transition.\n        window.transitionHeight.value = convertToUnit(window.rootRef.value?.clientHeight)\n      }\n\n      window.transitionCount.value += 1\n    }\n\n    function onTransitionCancelled () {\n      onAfterTransition() // This should have the same path as normal transition end.\n    }\n\n    function onEnterTransition (el: Element) {\n      if (!isTransitioning.value) {\n        return\n      }\n\n      nextTick(() => {\n        // Do not set height if no transition or cancelled.\n        if (!hasTransition.value || !isTransitioning.value || !window) {\n          return\n        }\n\n        // Set transition target height.\n        window.transitionHeight.value = convertToUnit(el.clientHeight)\n      })\n    }\n\n    const transition = computed(() => {\n      const name = window.isReversed.value\n        ? props.reverseTransition\n        : props.transition\n\n      return !hasTransition.value ? false : {\n        name: typeof name !== 'string' ? window.transition.value : name,\n        onBeforeEnter: onBeforeTransition,\n        onAfterEnter: onAfterTransition,\n        onEnterCancelled: onTransitionCancelled,\n        onBeforeLeave: onBeforeTransition,\n        onAfterLeave: onAfterTransition,\n        onLeaveCancelled: onTransitionCancelled,\n        onEnter: onEnterTransition,\n      }\n    })\n\n    const { hasContent } = useLazy(props, groupItem.isSelected)\n\n    return () => {\n      return (\n        <MaybeTransition transition={ transition.value } >\n          <div\n            class={[\n              'v-window-item',\n              groupItem.selectedClass.value,\n            ]}\n            v-show={ groupItem.isSelected.value }\n          >\n            { slots.default && hasContent.value && slots.default() }\n          </div>\n        </MaybeTransition>\n      )\n    }\n  },\n})\n\nexport type VWindowItem = InstanceType<typeof VWindowItem>\n"],"file":"VWindowItem.mjs"}